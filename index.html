<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tik-Tok Game</title>
    <style>
      .main-container {
        border: 2px solid black;
        width: 40%;
        margin: auto;
        margin-top: 40px;
        height: 50vh;
        display: flex;
        flex-flow: wrap;
        justify-content: space-evenly;
        align-items: center;
      }

      .child-div {
        border: 2px solid red;
        width: 30%;
        height: 30%;
        text-align: center;
        font-size: 3rem;
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <div class="child-div" id="div-1" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-2" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-3" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-4" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-5" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-6" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-7" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-8" onclick="insertValue(this.id)"></div>
      <div class="child-div" id="div-9" onclick="insertValue(this.id)"></div>
    </div>

    <script>
        let winMoves = [
          [1, 2, 3],
          [4, 5, 6],
          [7, 8, 9],
          [1, 4, 7],
          [2, 5, 8],
          [3, 6, 9],
          [1, 5, 9],
          [3, 5, 7],
        ];
        
        let moves = [];
        let movesX = [];
        let movesO = [];
      let divChild = '';
        let numberOfMoves = 0;
        function insertValue(id) {
          let divChild = document.getElementById(id);
          let divNumber = id.split("-")[1];

          if (numberOfMoves % 2 == 0) {
              divChild.innerText = "X";
            movesX.push(divNumber);
          }

          if (numberOfMoves % 2 !== 0) {
              divChild.innerText = "O";
                movesO.push(divNumber);
          }
          numberOfMoves++;
          if (numberOfMoves > 5) {
            hasSomeOneWon();
          }
        }
        console.log(movesX);
        console.log(movesO);

        let winnerFound = false;
        function hasSomeOneWon() {
          for (let index = 0; index < winMoves.length; index++) {
    const winArray = winMoves[index];
    let xCounter = 0; 
        let oCounter = 0;
    // console.log(winArray);
    xCounter = 0; oCounter = 0;

    for (let index = 0; index < winArray.length; index++) {
      if(movesX.includes(winArray[index])){
        xCounter++;
        console.log(xCounter);
      }
      
      if(movesX.includes(winArray[index])){
        oCounter++;
        console.log(oCounter);
      }
    }

    if(xCounter === 3){
      console.log('x is winner', index + 1)
      winnerFound = true;
      break;
    }

    if(oCounter === 3){
      console.log('o is winner', index + 1)
      winnerFound = true;
      break;
    }

    xCounter = 0;
    oCounter = 0;
  }
  if (winnerFound !== true) {
        console.log("The game was draw");
      }
          }

    </script>
  </body>
</html>
